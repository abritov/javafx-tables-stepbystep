# –£—Ä–æ–∫ 4. –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –Ω–∞–¥–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ/–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –ø–æ –∫–ª–∏–∫—É –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ –Ω–µ—Ç. –õ–∏–±–æ —è –µ–≥–æ –Ω–µ –Ω–∞—à–µ–ª ü§∑‚Äç‚ôÇÔ∏è.
–ü–æ—ç—Ç–æ–º—É, –≤ —Ä–∞–º–∫–∞—Ö —Å–≤–æ–µ–π –∑–∞–¥–∞—á–∏, —è —Å–¥–µ–ª–∞–ª —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ –∫–æ—Å—Ç—ã–ª—è, –Ω–æ –æ–Ω —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.
–ú–∏–Ω—É—Å –º–æ–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –≤ —Ç–æ–º, —á—Ç–æ —Å —Ä–æ—Å—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö, —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –±—É–¥–µ—Ç —Å–Ω–∏–∂–∞—Ç—å—Å—è (–∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å _–û(n)_).

–í –Ω–∞—á–∞–ª–µ, —è –æ–±—ä—è–≤–∏–ª –º–µ—Ç–æ–¥ `switchTables`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ:
![–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ switchTables](./add-switch-tables-method.png)

–ß—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å –µ–≥–æ –∫ —Ç–∞–±–ª–∏—Ü–∞–º, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `onMouseClicked` —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ `TableView`: 
```xhtml
<TableView fx:id="postsTable" onMouseClicked="#switchTables">
```

–ü—Ä–æ–¥–µ–ª–∞–π—Ç–µ —Ç—É–∂–µ –æ–ø–µ—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –ø—Ä–∏ —ç—Ç–æ–º –¥–æ–±–∞–≤–∏–≤ –∞—Ç—Ä–∏–±—É—Ç `fx:id="commentsTable"`:
```xhtml
<TableView fx:id="commentsTable" onMouseClicked="#switchTables">
```
–ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å `commentsTable` –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:
```java
@FXML
private TableView<Comment> commentsTable;
```
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∞–±–ª–∏—Ü –ø–æ—Å—Ç–æ–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, —Ç–∫ —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã.

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–ª–∏–∫–µ –º—ã—à–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã, –≤—ã –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–µ:
```
TableColumn$1$1[id=null, styleClass=cell indexed-cell table-cell table-column]'1'
Text[text="hello world", x=0.0, y=0.0, alignment=LEFT, origin=BASELINE, boundsType=LOGICAL_VERTICAL_CENTER, font=Font[name=System Regular, family=System, style=Regular, size=13.0], fontSmoothingType=LCD, fill=0xffffffff]
TableColumn$1$1[id=null, styleClass=cell indexed-cell table-cell table-column]'1'
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥?

–ü–µ—Ä–≤–æ–µ, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å ‚Äî —ç—Ç–æ –ø–æ–Ω—è—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏–∑–æ—à–µ–ª –∫–ª–∏–∫, –≤ –∫–∞–∫–æ–π –∫–æ–ª–æ–Ω–∫–µ?
–¢–∫ JavaFX –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–ª–æ–Ω–∫—É (–∏–ª–∏ —è—á–µ–π–∫—É), –º—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–∞–º–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
–û–ø–∏—Ä–∞—è—Å—å –Ω–∞ –≤—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã—à–µ –º–æ–∂–Ω–æ —Ç–æ—á–Ω–æ —Å–∫–∞–∑–∞—Ç—å, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–µ–ª –∫–ª–∏–∫ –ø–æ –∫–æ–ª–æ–Ω–∫–µ —Å —Ç–µ–∫—Å—Ç–æ–º (2 —Å—Ç—Ä–æ–∫–∞).

### –ö–∞–∫ –±—ã—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏?

`TableColumn$1$1[id=null` –∑–¥–µ—Å—å –º—ã –≤–∏–¥–∏–º –Ω–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –∏ –ø–æ–ª–µ `id` —Ä–∞–≤–Ω–æ–µ `null`.
–ü—Ä–∏ —ç—Ç–æ–º, –µ—Å–ª–∏ –º–µ–Ω—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É –Ω–µ –≤ –Ω–∞—à–∏—Ö —Å–∏–ª–∞—Ö, –º—ã –º–æ–∂–µ–º –∑–∞–¥–∞—Ç—å –∫–æ–ª–æ–Ω–∫–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `id`!
–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –∫–∞–∂–¥—É—é –∏–∑ –∫–æ–ª–æ–Ω–æ–∫ –∏ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —è—á–µ–π–∫–∏, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –∫–ª–∏–∫–Ω—É–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

–ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ –∏–∑ –∫–æ–¥–∞, –¥–æ–±–∞–≤–ª—é –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤—Å–µ—Ö –∫–æ–ª–æ–Ω–æ–∫:
```java
@FXML
private TableView<Post> postsTable;
@FXML
private TableColumn<Integer, Void> postAuthorIdColumn;
@FXML
private TableColumn<Integer, Void> commentsPostIdColumn;
@FXML
private TableColumn<Integer, Void> commentsAuthorIdColumn;
```
–ú—ã —Å–¥–µ–ª–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥—ã, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω–µ—Ç –ø–æ —ç—Ç–æ–π –∏–∑ —Ç—Ä–µ—Ö –∫–æ–ª–æ–Ω–æ–∫.

–¢–µ–ø–µ—Ä—å, –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ `fx:id` –≤ `main_scene` —Ñ–∞–π–ª:
```xhtml
<TableColumn fx:id="postAuthorIdColumn" text="author_id">
```
```xhtml
<TableColumn fx:id="commentsPostIdColumn" text="post_id">
```
```xhtml
<TableColumn fx:id="commentsAuthorIdColumn" text="author_id">
```

–í—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —Ä–∞–∑–Ω—ã–µ —è—á–µ–π–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ:
```
TableColumn$1$1[id=null, styleClass=cell indexed-cell table-cell table-column]'1'
Text[text="hello world", x=0.0, y=0.0, alignment=LEFT, origin=BASELINE, boundsType=LOGICAL_VERTICAL_CENTER, font=Font[name=System Regular, family=System, style=Regular, size=13.0], fontSmoothingType=LCD, fill=0xffffffff]
TableColumn$1$1[id=postAuthorIdColumn, styleClass=cell indexed-cell table-cell table-column]'1'
```
–°–µ–π—á–∞—Å —É–∂–µ —Ç–æ—á–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ, –∫–æ–≥–¥–∞ —è –∫–ª–∏–∫–Ω—É–ª –ø–æ —è—á–µ–π–∫–µ –≤ —Å—Ç–æ–ª–±—Ü–µ `author_id` –±–ª–∞–≥–æ–¥–∞—Ä—è –∑–∞–¥–∞–Ω–Ω–æ–º—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É `postAuthorIdColumn`. –¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ—Ö–æ–¥–∞

–í –Ω–∞—á–∞–ª–µ, –≤ –º–µ—Ç–æ–¥–µ `switchTables` –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –ø–æ –∫–∞–∫–æ–π –∫–æ–ª–æ–Ω–∫–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞–∂–∞—Ç–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∑–∞–¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:
```java
@FXML
protected void switchTables(MouseEvent event) {
    String target = event.getTarget().toString();
    if (target.contains("postAuthorIdColumn")) {
        
    } else if (target.contains("commentsAuthorIdColumn")) {
    
    } else if (target.contains("commentsPostIdColumn")) {

    }
}
```

–¢–∫ —É –Ω–∞—Å –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–∫–µ –ø–æ –∫–æ–ª–æ–Ω–∫–µ, –Ω–æ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫—É—é —è—á–µ–π–∫—É –≤—ã–±—Ä–∞–ª–∏, –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
```java
 @FXML
protected void switchTables(MouseEvent event) {
    String target = event.getTarget().toString();
    if (target.contains("postAuthorIdColumn")){
        Integer selectedUserId=postsTable.getSelectionModel().getSelectedItem().getAuthorId();
        User selectedUser=usersTable.getItems().stream()
            .filter(user->user.getUserId().equals(selectedUserId))
            .findFirst()
            .orElseThrow();
        usersTable.getSelectionModel().select(selectedUser);
        tabs.getSelectionModel().select(1);
    }
    ... –†–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–ª–∏–∫–æ–≤ –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –æ—Å—Ç–∞–≤–ª—è—é –Ω–∞ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ
```
–ù–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–≤—É—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö: `usersTable` –∏ `tabs`. –ü–µ—Ä–≤–∞—è —ç—Ç–æ –±–∏–Ω–¥–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤—Ç–æ—Ä–∞—è ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `TabPane`.

–î–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:
```java
@FXML
private TabPane tabs;
@FXML
private TableView<User> usersTable;
```

–ò —Å–¥–µ–ª–∞–π—Ç–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –≤ `main_scene`:
```xhtml
<TabPane fx:id="tabs">
```
```xhtml
<TableView fx:id="usersTable">
```

–ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–∏–º –±–∏–Ω–¥–∏–Ω–≥–∞–º, —É –Ω–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤–∫–ª–∞–¥–∫–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∫—É—Ä—Å–æ—Ä –Ω–∞ —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

–î–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏, —è –¥–æ–±–∞–≤–∏–ª –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã:
```java
@Override
public void initialize(URL url, ResourceBundle rb) {
    postsTable.getItems().add(new Post(1, "hello world", 1));
    usersTable.getItems().add(new User(1, "Chloe"));
    usersTable.getItems().add(new User(2, "Jackson"));
    commentsTable.getItems().add(new Comment(1, 1, 2, "comment"));
}
```

–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –¥–æ–±–∞–≤–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π